var s1blending_shared={gl:null,button:null,worldMatrix:mat4.create(),viewMatrix:mat4.create(),projectionMatrix:mat4.create(),viewProjectionMatrix:mat4.create(),worldViewProjectionMatrix:mat4.create(),worldViewProjectionMatrixLocation:null,vertexPositionLocation:null,vertexColorLocation:null,time:0,previousTime:0,cameraPosition:vec3.create(),square:{positionBuffer:null,colorBuffer:null,triangleCount:0},house:{positionBuffer:null,colorBuffer:null,indexBuffer:null,indexCount:0},glass1:{positionBuffer:null,
colorBuffer:null,indexBuffer:null,indexCount:0},glass2:{positionBuffer:null,colorBuffer:null,indexBuffer:null,indexCount:0},paused:!1,backface:!0,depthbuffer:!0,blending:!0};
function s1blending_main(a){s1blending_shared.gl=a;var b=initializeProgram(a,s1blending_vertexShader,s1blending_fragmentShader);b&&(a.useProgram(b),s1blending_shared.worldViewProjectionMatrixLocation=a.getUniformLocation(b,"u_worldViewProjection"),s1blending_shared.vertexPositionLocation=a.getAttribLocation(b,"a_position"),s1blending_shared.vertexColorLocation=a.getAttribLocation(b,"a_color"),a.enableVertexAttribArray(s1blending_shared.vertexPositionLocation),a.enableVertexAttribArray(s1blending_shared.vertexColorLocation),
mat4.perspective(s1blending_shared.projectionMatrix,Math.PI/4,a.drawingBufferWidth/a.drawingBufferHeight,1,150),s1blending_initializeScene(a))}function s1blending_initializeScene(a){s1blending_createSquare(a);s1blending_createHouse(a);s1blending_createGlass1(a);s1blending_createGlass2(a)}
function s1blending_createSquare(a){var b=[-11,0,-23,-11,0,23,11,0,-23,-11,0,23,11,0,23,11,0,-23];s1blending_shared.square.positionBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,s1blending_shared.square.positionBuffer);a.bufferData(a.ARRAY_BUFFER,new Float32Array(b),a.STATIC_DRAW);s1blending_shared.square.colorBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,s1blending_shared.square.colorBuffer);a.bufferData(a.ARRAY_BUFFER,new Float32Array([1,.4,0,1,1,.4,0,1,1,.4,0,1,1,.4,0,1,1,.4,0,1,1,.4,
0,1]),a.STATIC_DRAW);s1blending_shared.square.triangleCount=b.length/3}
function s1blending_createHouse(a){var b=[0,1,2,1,3,2,0,4,1,1,4,5,2,7,6,2,3,7,0,6,4,0,2,6,1,5,3,3,5,7,4,8,5,5,8,9,6,9,8,6,7,9,4,6,8,5,9,7];s1blending_shared.house.positionBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,s1blending_shared.house.positionBuffer);a.bufferData(a.ARRAY_BUFFER,new Float32Array([-10,-5,-8,10,-5,-8,-10,-5,8,10,-5,8,-10,5,-8,10,5,-8,-10,5,8,10,5,8,-10,11,0,10,11,0]),a.STATIC_DRAW);s1blending_shared.house.colorBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,s1blending_shared.house.colorBuffer);
a.bufferData(a.ARRAY_BUFFER,new Float32Array([1,0,0,1,0,1,0,1,0,0,1,1,1,1,0,1,0,1,.9,1,0,0,1,1,1,1,0,1,.5,0,.8,1,.8,1,.5,1,.5,1,1,1]),a.STATIC_DRAW);s1blending_shared.house.indexBuffer=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,s1blending_shared.house.indexBuffer);a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(b),a.STATIC_DRAW);s1blending_shared.house.indexCount=b.length}
function s1blending_createGlass1(a){var b=[0,1,2,2,1,3,2,3,4,4,3,5];s1blending_shared.glass1.positionBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,s1blending_shared.glass1.positionBuffer);a.bufferData(a.ARRAY_BUFFER,new Float32Array([-23,-17,-21,23,-17,-21,-23,0,-21,23,0,-21,-23,17,-21,23,17,-21]),a.STATIC_DRAW);s1blending_shared.glass1.colorBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,s1blending_shared.glass1.colorBuffer);a.bufferData(a.ARRAY_BUFFER,new Float32Array([.9,.4,.8,1,.9,.4,
.8,1,.9,.4,.8,.4,.9,.4,.8,.4,.9,.4,.8,0,.9,.4,.8,0]),a.STATIC_DRAW);s1blending_shared.glass1.indexBuffer=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,s1blending_shared.glass1.indexBuffer);a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(b),a.STATIC_DRAW);s1blending_shared.glass1.indexCount=b.length}
function s1blending_createGlass2(a){var b=[0,1,2,2,1,3,2,3,4,4,3,5];s1blending_shared.glass2.positionBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,s1blending_shared.glass2.positionBuffer);a.bufferData(a.ARRAY_BUFFER,new Float32Array([-23,-17,21,23,-17,21,-23,0,21,23,0,21,-23,17,21,23,17,21]),a.STATIC_DRAW);s1blending_shared.glass2.colorBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,s1blending_shared.glass2.colorBuffer);a.bufferData(a.ARRAY_BUFFER,new Float32Array([.3,.7,.8,1,.3,.7,.8,1,
.3,.7,.8,.4,.3,.7,.8,.4,.3,.7,.8,0,.3,.7,.8,0]),a.STATIC_DRAW);s1blending_shared.glass2.indexBuffer=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,s1blending_shared.glass2.indexBuffer);a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(b),a.STATIC_DRAW);s1blending_shared.glass2.indexCount=b.length}
function s1blending_frameCallback(a){var b=a-s1blending_shared.previousTime;s1blending_shared.paused||(s1blending_shared.time+=b);s1blending_shared.previousTime=a;s1blending_frame(.001*s1blending_shared.time,0);1E4<s1blending_shared.time?(s1blending_frame(0,0),s1blending_shared.button.style.display="block"):window.requestAnimationFrame(s1blending_frameCallback)}
function s1blending_setWorldViewProjection(a){mat4.multiply(s1blending_shared.worldViewProjectionMatrix,s1blending_shared.viewProjectionMatrix,s1blending_shared.worldMatrix);a.uniformMatrix4fv(s1blending_shared.worldViewProjectionMatrixLocation,!1,s1blending_shared.worldViewProjectionMatrix)}
function s1blending_frame(a,b){b=s1blending_shared.gl;b.clearColor(0,0,0,1);b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);vec3.set(s1blending_shared.cameraPosition,80*Math.cos(a),0,80*Math.sin(a));mat4.lookAt(s1blending_shared.viewMatrix,s1blending_shared.cameraPosition,vec3.fromValues(0,0,0),vec3.fromValues(0,1,0));mat4.multiply(s1blending_shared.viewProjectionMatrix,s1blending_shared.projectionMatrix,s1blending_shared.viewMatrix);s1blending_shared.backface?b.enable(b.CULL_FACE):b.disable(b.CULL_FACE);
s1blending_shared.depthbuffer?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST);s1blending_shared.blending?b.blendFunc(b.SRC_ALPHA,b.ONE):b.blendFunc(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA);s1blending_drawScene(b,a)}
function s1blending_drawScene(a,b){var c=s1blending_shared.worldMatrix;mat4.identity(c);mat4.translate(c,c,vec3.fromValues(0,-20,0));s1blending_setWorldViewProjection(a);s1blending_drawSquare(a);mat4.identity(c);mat4.translate(c,c,vec3.fromValues(-17,0,0));mat4.rotateZ(c,c,b);s1blending_setWorldViewProjection(a);s1blending_drawHouse(a);mat4.identity(c);mat4.translate(c,c,vec3.fromValues(17,0,0));mat4.rotateZ(c,c,b);s1blending_setWorldViewProjection(a);s1blending_drawHouse(a);mat4.identity(c);vec3.distance(s1blending_shared.cameraPosition,
vec3.fromValues(-23,0,-21));vec3.distance(s1blending_shared.cameraPosition,vec3.fromValues(-23,0,21));s1blending_setWorldViewProjection(a);a.disable(a.CULL_FACE);a.enable(a.BLEND);s1blending_drawGlass1(a);s1blending_drawGlass2(a);a.disable(a.BLEND);a.enable(a.CULL_FACE)}
function s1blending_drawSquare(a){a.bindBuffer(a.ARRAY_BUFFER,s1blending_shared.square.positionBuffer);a.vertexAttribPointer(s1blending_shared.vertexPositionLocation,3,a.FLOAT,a.FALSE,0,0);a.bindBuffer(a.ARRAY_BUFFER,s1blending_shared.square.colorBuffer);a.vertexAttribPointer(s1blending_shared.vertexColorLocation,4,a.FLOAT,a.FALSE,0,0);a.drawArrays(a.TRIANGLES,0,s1blending_shared.square.triangleCount)}
function s1blending_drawHouse(a){a.bindBuffer(a.ARRAY_BUFFER,s1blending_shared.house.positionBuffer);a.vertexAttribPointer(s1blending_shared.vertexPositionLocation,3,a.FLOAT,a.FALSE,0,0);a.bindBuffer(a.ARRAY_BUFFER,s1blending_shared.house.colorBuffer);a.vertexAttribPointer(s1blending_shared.vertexColorLocation,4,a.FLOAT,a.FALSE,0,0);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,s1blending_shared.house.indexBuffer);a.drawElements(a.TRIANGLES,s1blending_shared.house.indexCount,a.UNSIGNED_SHORT,0)}
function s1blending_drawGlass1(a){a.bindBuffer(a.ARRAY_BUFFER,s1blending_shared.glass1.positionBuffer);a.vertexAttribPointer(s1blending_shared.vertexPositionLocation,3,a.FLOAT,a.FALSE,0,0);a.bindBuffer(a.ARRAY_BUFFER,s1blending_shared.glass1.colorBuffer);a.vertexAttribPointer(s1blending_shared.vertexColorLocation,4,a.FLOAT,a.FALSE,0,0);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,s1blending_shared.glass1.indexBuffer);a.drawElements(a.TRIANGLES,s1blending_shared.glass1.indexCount,a.UNSIGNED_SHORT,0)}
function s1blending_drawGlass2(a){a.bindBuffer(a.ARRAY_BUFFER,s1blending_shared.glass2.positionBuffer);a.vertexAttribPointer(s1blending_shared.vertexPositionLocation,3,a.FLOAT,a.FALSE,0,0);a.bindBuffer(a.ARRAY_BUFFER,s1blending_shared.glass2.colorBuffer);a.vertexAttribPointer(s1blending_shared.vertexColorLocation,4,a.FLOAT,a.FALSE,0,0);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,s1blending_shared.glass2.indexBuffer);a.drawElements(a.TRIANGLES,s1blending_shared.glass2.indexCount,a.UNSIGNED_SHORT,0)}
var s1blending_vertexShader="\n\tuniform mat4 u_worldViewProjection;\n\tattribute vec4 a_position;\n\tattribute vec4 a_color;\n\tvarying vec4 v_color;\n\n\tvoid main(void)\n\t{\n\t\tv_color = a_color;\n\t\tgl_Position = u_worldViewProjection * a_position;\n\t}\n",s1blending_fragmentShader="\n\tvarying highp vec4 v_color;\n\n\tvoid main(void)\n\t{\n\t\tgl_FragColor = v_color;\n\t}\n";var s1colors_shared={gl:null,button:null,worldMatrix:mat4.create(),viewMatrix:mat4.create(),projectionMatrix:mat4.create(),viewProjectionMatrix:mat4.create(),worldViewProjectionMatrix:mat4.create(),worldViewProjectionMatrixLocation:null,vertexPositionLocation:null,vertexColorLocation:null,time:0,previousTime:0,cameraPosition:vec3.create(),square:{positionBuffer:null,colorBuffer:null,triangleCount:0},house:{positionBuffer:null,colorBuffer:null,indexBuffer:null,indexCount:0},paused:!1,backface:!0,depthbuffer:!0};
function s1colors_main(a){s1colors_shared.gl=a;var b=initializeProgram(a,s1colors_vertexShader,s1colors_fragmentShader);b&&(a.useProgram(b),s1colors_shared.worldViewProjectionMatrixLocation=a.getUniformLocation(b,"u_worldViewProjection"),s1colors_shared.vertexPositionLocation=a.getAttribLocation(b,"a_position"),s1colors_shared.vertexColorLocation=a.getAttribLocation(b,"a_color"),a.enableVertexAttribArray(s1colors_shared.vertexPositionLocation),a.enableVertexAttribArray(s1colors_shared.vertexColorLocation),
mat4.perspective(s1colors_shared.projectionMatrix,Math.PI/4,a.drawingBufferWidth/a.drawingBufferHeight,1,150),s1colors_initializeScene(a))}function s1colors_initializeScene(a){s1colors_createSquare(a);s1colors_createHouse(a)}
function s1colors_createSquare(a){var b=[-11,0,-23,-11,0,23,11,0,-23,-11,0,23,11,0,23,11,0,-23];s1colors_shared.square.positionBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,s1colors_shared.square.positionBuffer);a.bufferData(a.ARRAY_BUFFER,new Float32Array(b),a.STATIC_DRAW);s1colors_shared.square.colorBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,s1colors_shared.square.colorBuffer);a.bufferData(a.ARRAY_BUFFER,new Float32Array([1,.4,0,1,1,.4,0,1,1,.4,0,1,1,.4,0,1,1,.4,0,1,1,.4,0,1]),a.STATIC_DRAW);
s1colors_shared.square.triangleCount=b.length/3}
function s1colors_createHouse(a){var b=[0,1,2,1,3,2,0,4,1,1,4,5,2,7,6,2,3,7,0,6,4,0,2,6,1,5,3,3,5,7,4,8,5,5,8,9,6,9,8,6,7,9,4,6,8,5,9,7];s1colors_shared.house.positionBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,s1colors_shared.house.positionBuffer);a.bufferData(a.ARRAY_BUFFER,new Float32Array([-10,-5,-8,10,-5,-8,-10,-5,8,10,-5,8,-10,5,-8,10,5,-8,-10,5,8,10,5,8,-10,11,0,10,11,0]),a.STATIC_DRAW);s1colors_shared.house.colorBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,s1colors_shared.house.colorBuffer);
a.bufferData(a.ARRAY_BUFFER,new Float32Array([1,0,0,1,0,1,0,1,0,0,1,1,1,1,0,1,0,1,.9,1,0,0,1,1,1,1,0,1,.5,0,.8,1,.8,1,.5,1,.5,1,1,1]),a.STATIC_DRAW);s1colors_shared.house.indexBuffer=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,s1colors_shared.house.indexBuffer);a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(b),a.STATIC_DRAW);s1colors_shared.house.indexCount=b.length}
function s1colors_frameCallback(a){var b=a-s1colors_shared.previousTime;s1colors_shared.paused||(s1colors_shared.time+=b);s1colors_shared.previousTime=a;s1colors_frame(.001*s1colors_shared.time,0);1E4<s1colors_shared.time?(s1colors_frame(0,0),s1colors_shared.button.style.display="block"):window.requestAnimationFrame(s1colors_frameCallback)}
function s1colors_setWorldViewProjection(a){mat4.multiply(s1colors_shared.worldViewProjectionMatrix,s1colors_shared.viewProjectionMatrix,s1colors_shared.worldMatrix);a.uniformMatrix4fv(s1colors_shared.worldViewProjectionMatrixLocation,!1,s1colors_shared.worldViewProjectionMatrix)}
function s1colors_frame(a,b){b=s1colors_shared.gl;b.clearColor(0,0,0,1);b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);vec3.set(s1colors_shared.cameraPosition,80*Math.cos(a),0,80*Math.sin(a));mat4.lookAt(s1colors_shared.viewMatrix,s1colors_shared.cameraPosition,vec3.fromValues(0,0,0),vec3.fromValues(0,1,0));mat4.multiply(s1colors_shared.viewProjectionMatrix,s1colors_shared.projectionMatrix,s1colors_shared.viewMatrix);s1colors_shared.backface?b.enable(b.CULL_FACE):b.disable(b.CULL_FACE);s1colors_shared.depthbuffer?
b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST);s1colors_drawScene(b,a)}function s1colors_drawScene(a,b){var c=s1colors_shared.worldMatrix;mat4.identity(c);mat4.translate(c,c,vec3.fromValues(0,-20,0));s1colors_setWorldViewProjection(a);s1colors_drawSquare(a);mat4.identity(c);mat4.translate(c,c,vec3.fromValues(-17,0,0));mat4.rotateZ(c,c,b);s1colors_setWorldViewProjection(a);s1colors_drawHouse(a)}
function s1colors_drawSquare(a){a.bindBuffer(a.ARRAY_BUFFER,s1colors_shared.square.positionBuffer);a.vertexAttribPointer(s1colors_shared.vertexPositionLocation,3,a.FLOAT,a.FALSE,0,0);a.bindBuffer(a.ARRAY_BUFFER,s1colors_shared.square.colorBuffer);a.vertexAttribPointer(s1colors_shared.vertexColorLocation,4,a.FLOAT,a.FALSE,0,0);a.drawArrays(a.TRIANGLES,0,s1colors_shared.square.triangleCount)}
function s1colors_drawHouse(a){a.bindBuffer(a.ARRAY_BUFFER,s1colors_shared.house.positionBuffer);a.vertexAttribPointer(s1colors_shared.vertexPositionLocation,3,a.FLOAT,a.FALSE,0,0);a.bindBuffer(a.ARRAY_BUFFER,s1colors_shared.house.colorBuffer);a.vertexAttribPointer(s1colors_shared.vertexColorLocation,4,a.FLOAT,a.FALSE,0,0);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,s1colors_shared.house.indexBuffer);a.drawElements(a.TRIANGLES,s1colors_shared.house.indexCount,a.UNSIGNED_SHORT,0)}
var s1colors_vertexShader="\n\tuniform mat4 u_worldViewProjection;\n\tattribute vec4 a_position;\n\tattribute vec4 a_color;\n\tvarying vec4 v_color;\n\n\tvoid main(void)\n\t{\n\t\tv_color = a_color;\n\t\tgl_Position = u_worldViewProjection * a_position;\n\t}\n",s1colors_fragmentShader="\n\tvarying highp vec4 v_color;\n\n\tvoid main(void)\n\t{\n\t\tgl_FragColor = v_color;\n\t}\n";var s1house_shared={gl:null,button:null,worldMatrix:mat4.create(),viewMatrix:mat4.create(),projectionMatrix:mat4.create(),viewProjectionMatrix:mat4.create(),worldViewProjectionMatrix:mat4.create(),worldViewProjectionMatrixLocation:null,vertexPositionLocation:null,vertexColorLocation:null,time:0,previousTime:0,cameraPosition:vec3.create(),square:{positionBuffer:null,colorBuffer:null,triangleCount:0},house:{positionBuffer:null,colorBuffer:null,indexBuffer:null,indexCount:0},paused:!1,backface:!0,depthbuffer:!0};
function s1house_main(a){s1house_shared.gl=a;var b=initializeProgram(a,s1house_vertexShader,s1house_fragmentShader);b&&(a.useProgram(b),s1house_shared.worldViewProjectionMatrixLocation=a.getUniformLocation(b,"u_worldViewProjection"),s1house_shared.vertexPositionLocation=a.getAttribLocation(b,"a_position"),s1house_shared.vertexColorLocation=a.getAttribLocation(b,"a_color"),a.enableVertexAttribArray(s1house_shared.vertexPositionLocation),a.enableVertexAttribArray(s1house_shared.vertexColorLocation),
mat4.perspective(s1house_shared.projectionMatrix,Math.PI/4,a.drawingBufferWidth/a.drawingBufferHeight,1,150),s1house_initializeScene(a))}function s1house_initializeScene(a){s1house_createSquare(a);s1house_createHouse(a)}
function s1house_createSquare(a){var b=[-11,0,-23,-11,0,23,11,0,-23,-11,0,23,11,0,23,11,0,-23];s1house_shared.square.positionBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,s1house_shared.square.positionBuffer);a.bufferData(a.ARRAY_BUFFER,new Float32Array(b),a.STATIC_DRAW);s1house_shared.square.colorBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,s1house_shared.square.colorBuffer);a.bufferData(a.ARRAY_BUFFER,new Float32Array([1,.4,0,1,1,.4,0,1,1,.4,0,1,1,.4,0,1,1,.4,0,1,1,.4,0,1]),a.STATIC_DRAW);
s1house_shared.square.triangleCount=b.length/3}
function s1house_createHouse(a){var b=[0,1,2,1,3,2,0,4,1,1,4,5,2,7,6,2,3,7,0,6,4,0,2,6,1,5,3,3,5,7,4,8,5,5,8,9,6,9,8,6,7,9,4,6,8,5,9,7];s1house_shared.house.positionBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,s1house_shared.house.positionBuffer);a.bufferData(a.ARRAY_BUFFER,new Float32Array([-10,-5,-8,10,-5,-8,-10,-5,8,10,-5,8,-10,5,-8,10,5,-8,-10,5,8,10,5,8,-10,11,0,10,11,0]),a.STATIC_DRAW);s1house_shared.house.colorBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,s1house_shared.house.colorBuffer);
a.bufferData(a.ARRAY_BUFFER,new Float32Array([.5,.9,0,1,.5,.9,0,1,.5,.9,0,1,.5,.9,0,1,.5,.9,0,1,.5,.9,0,1,.5,.9,0,1,.5,.9,0,1,.5,.9,0,1,.5,.9,0,1]),a.STATIC_DRAW);s1house_shared.house.indexBuffer=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,s1house_shared.house.indexBuffer);a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(b),a.STATIC_DRAW);s1house_shared.house.indexCount=b.length}
function s1house_frameCallback(a){var b=a-s1house_shared.previousTime;s1house_shared.paused||(s1house_shared.time+=b);s1house_shared.previousTime=a;s1house_frame(.001*s1house_shared.time,0);1E4<s1house_shared.time?(s1house_frame(0,0),s1house_shared.button.style.display="block"):window.requestAnimationFrame(s1house_frameCallback)}
function s1house_setWorldViewProjection(a){mat4.multiply(s1house_shared.worldViewProjectionMatrix,s1house_shared.viewProjectionMatrix,s1house_shared.worldMatrix);a.uniformMatrix4fv(s1house_shared.worldViewProjectionMatrixLocation,!1,s1house_shared.worldViewProjectionMatrix)}
function s1house_frame(a,b){b=s1house_shared.gl;b.clearColor(0,0,0,1);b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);vec3.set(s1house_shared.cameraPosition,80*Math.cos(a),0,80*Math.sin(a));mat4.lookAt(s1house_shared.viewMatrix,s1house_shared.cameraPosition,vec3.fromValues(0,0,0),vec3.fromValues(0,1,0));mat4.multiply(s1house_shared.viewProjectionMatrix,s1house_shared.projectionMatrix,s1house_shared.viewMatrix);s1house_shared.backface?b.enable(b.CULL_FACE):b.disable(b.CULL_FACE);s1house_shared.depthbuffer?
b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST);s1house_drawScene(b,a)}function s1house_drawScene(a,b){b=s1house_shared.worldMatrix;mat4.identity(b);mat4.translate(b,b,vec3.fromValues(0,-20,0));s1house_setWorldViewProjection(a);s1house_drawSquare(a);mat4.identity(b);s1house_setWorldViewProjection(a);s1house_drawHouse(a)}
function s1house_drawSquare(a){a.bindBuffer(a.ARRAY_BUFFER,s1house_shared.square.positionBuffer);a.vertexAttribPointer(s1house_shared.vertexPositionLocation,3,a.FLOAT,a.FALSE,0,0);a.bindBuffer(a.ARRAY_BUFFER,s1house_shared.square.colorBuffer);a.vertexAttribPointer(s1house_shared.vertexColorLocation,4,a.FLOAT,a.FALSE,0,0);a.drawArrays(a.TRIANGLES,0,s1house_shared.square.triangleCount)}
function s1house_drawHouse(a){a.bindBuffer(a.ARRAY_BUFFER,s1house_shared.house.positionBuffer);a.vertexAttribPointer(s1house_shared.vertexPositionLocation,3,a.FLOAT,a.FALSE,0,0);a.bindBuffer(a.ARRAY_BUFFER,s1house_shared.house.colorBuffer);a.vertexAttribPointer(s1house_shared.vertexColorLocation,4,a.FLOAT,a.FALSE,0,0);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,s1house_shared.house.indexBuffer);a.drawElements(a.TRIANGLES,s1house_shared.house.indexCount,a.UNSIGNED_SHORT,0)}
var s1house_vertexShader="\n\tuniform mat4 u_worldViewProjection;\n\tattribute vec4 a_position;\n\tattribute vec4 a_color;\n\tvarying vec4 v_color;\n\n\tvoid main(void)\n\t{\n\t\tv_color = a_color;\n\t\tgl_Position = u_worldViewProjection * a_position;\n\t}\n",s1house_fragmentShader="\n\tvarying highp vec4 v_color;\n\n\tvoid main(void)\n\t{\n\t\tgl_FragColor = v_color;\n\t}\n";var s1objects_shared={gl:null,button:null,worldMatrix:mat4.create(),viewMatrix:mat4.create(),projectionMatrix:mat4.create(),viewProjectionMatrix:mat4.create(),worldViewProjectionMatrix:mat4.create(),worldViewProjectionMatrixLocation:null,vertexPositionLocation:null,vertexColorLocation:null,time:0,previousTime:0,cameraPosition:vec3.create(),square:{positionBuffer:null,colorBuffer:null,triangleCount:0},house:{positionBuffer:null,colorBuffer:null,indexBuffer:null,indexCount:0},paused:!1,backface:!0,
depthbuffer:!0};
function s1objects_main(a){s1objects_shared.gl=a;var b=initializeProgram(a,s1objects_vertexShader,s1objects_fragmentShader);b&&(a.useProgram(b),s1objects_shared.worldViewProjectionMatrixLocation=a.getUniformLocation(b,"u_worldViewProjection"),s1objects_shared.vertexPositionLocation=a.getAttribLocation(b,"a_position"),s1objects_shared.vertexColorLocation=a.getAttribLocation(b,"a_color"),a.enableVertexAttribArray(s1objects_shared.vertexPositionLocation),a.enableVertexAttribArray(s1objects_shared.vertexColorLocation),mat4.perspective(s1objects_shared.projectionMatrix,
Math.PI/4,a.drawingBufferWidth/a.drawingBufferHeight,1,150),s1objects_initializeScene(a))}function s1objects_initializeScene(a){s1objects_createSquare(a);s1objects_createHouse(a)}
function s1objects_createSquare(a){var b=[-11,0,-23,-11,0,23,11,0,-23,-11,0,23,11,0,23,11,0,-23];s1objects_shared.square.positionBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,s1objects_shared.square.positionBuffer);a.bufferData(a.ARRAY_BUFFER,new Float32Array(b),a.STATIC_DRAW);s1objects_shared.square.colorBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,s1objects_shared.square.colorBuffer);a.bufferData(a.ARRAY_BUFFER,new Float32Array([1,.4,0,1,1,.4,0,1,1,.4,0,1,1,.4,0,1,1,.4,0,1,1,.4,0,1]),
a.STATIC_DRAW);s1objects_shared.square.triangleCount=b.length/3}
function s1objects_createHouse(a){var b=[0,1,2,1,3,2,0,4,1,1,4,5,2,7,6,2,3,7,0,6,4,0,2,6,1,5,3,3,5,7,4,8,5,5,8,9,6,9,8,6,7,9,4,6,8,5,9,7];s1objects_shared.house.positionBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,s1objects_shared.house.positionBuffer);a.bufferData(a.ARRAY_BUFFER,new Float32Array([-10,-5,-8,10,-5,-8,-10,-5,8,10,-5,8,-10,5,-8,10,5,-8,-10,5,8,10,5,8,-10,11,0,10,11,0]),a.STATIC_DRAW);s1objects_shared.house.colorBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,s1objects_shared.house.colorBuffer);
a.bufferData(a.ARRAY_BUFFER,new Float32Array([1,0,0,1,0,1,0,1,0,0,1,1,1,1,0,1,0,1,.9,1,0,0,1,1,1,1,0,1,.5,0,.8,1,.8,1,.5,1,.5,1,1,1]),a.STATIC_DRAW);s1objects_shared.house.indexBuffer=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,s1objects_shared.house.indexBuffer);a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(b),a.STATIC_DRAW);s1objects_shared.house.indexCount=b.length}
function s1objects_frameCallback(a){var b=a-s1objects_shared.previousTime;s1objects_shared.paused||(s1objects_shared.time+=b);s1objects_shared.previousTime=a;s1objects_frame(.001*s1objects_shared.time,0);1E4<s1objects_shared.time?(s1objects_frame(0,0),s1objects_shared.button.style.display="block"):window.requestAnimationFrame(s1objects_frameCallback)}
function s1objects_setWorldViewProjection(a){mat4.multiply(s1objects_shared.worldViewProjectionMatrix,s1objects_shared.viewProjectionMatrix,s1objects_shared.worldMatrix);a.uniformMatrix4fv(s1objects_shared.worldViewProjectionMatrixLocation,!1,s1objects_shared.worldViewProjectionMatrix)}
function s1objects_frame(a,b){b=s1objects_shared.gl;b.clearColor(0,0,0,1);b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);vec3.set(s1objects_shared.cameraPosition,80*Math.cos(a),0,80*Math.sin(a));mat4.lookAt(s1objects_shared.viewMatrix,s1objects_shared.cameraPosition,vec3.fromValues(0,0,0),vec3.fromValues(0,1,0));mat4.multiply(s1objects_shared.viewProjectionMatrix,s1objects_shared.projectionMatrix,s1objects_shared.viewMatrix);s1objects_shared.backface?b.enable(b.CULL_FACE):b.disable(b.CULL_FACE);s1objects_shared.depthbuffer?
b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST);s1objects_drawScene(b,a)}
function s1objects_drawScene(a,b){var c=s1objects_shared.worldMatrix;mat4.identity(c);mat4.translate(c,c,vec3.fromValues(0,-20,0));s1objects_setWorldViewProjection(a);s1objects_drawSquare(a);mat4.identity(c);mat4.translate(c,c,vec3.fromValues(-17,0,0));mat4.rotateZ(c,c,b);s1objects_setWorldViewProjection(a);s1objects_drawHouse(a);mat4.identity(c);mat4.translate(c,c,vec3.fromValues(17,0,0));mat4.rotateZ(c,c,b);s1objects_setWorldViewProjection(a);s1objects_drawHouse(a)}
function s1objects_drawSquare(a){a.bindBuffer(a.ARRAY_BUFFER,s1objects_shared.square.positionBuffer);a.vertexAttribPointer(s1objects_shared.vertexPositionLocation,3,a.FLOAT,a.FALSE,0,0);a.bindBuffer(a.ARRAY_BUFFER,s1objects_shared.square.colorBuffer);a.vertexAttribPointer(s1objects_shared.vertexColorLocation,4,a.FLOAT,a.FALSE,0,0);a.drawArrays(a.TRIANGLES,0,s1objects_shared.square.triangleCount)}
function s1objects_drawHouse(a){a.bindBuffer(a.ARRAY_BUFFER,s1objects_shared.house.positionBuffer);a.vertexAttribPointer(s1objects_shared.vertexPositionLocation,3,a.FLOAT,a.FALSE,0,0);a.bindBuffer(a.ARRAY_BUFFER,s1objects_shared.house.colorBuffer);a.vertexAttribPointer(s1objects_shared.vertexColorLocation,4,a.FLOAT,a.FALSE,0,0);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,s1objects_shared.house.indexBuffer);a.drawElements(a.TRIANGLES,s1objects_shared.house.indexCount,a.UNSIGNED_SHORT,0)}
var s1objects_vertexShader="\n\tuniform mat4 u_worldViewProjection;\n\tattribute vec4 a_position;\n\tattribute vec4 a_color;\n\tvarying vec4 v_color;\n\n\tvoid main(void)\n\t{\n\t\tv_color = a_color;\n\t\tgl_Position = u_worldViewProjection * a_position;\n\t}\n",s1objects_fragmentShader="\n\tvarying highp vec4 v_color;\n\n\tvoid main(void)\n\t{\n\t\tgl_FragColor = v_color;\n\t}\n";var s2planets_shared={gl:null,button:null,worldMatrix:mat4.create(),viewMatrix:mat4.create(),projectionMatrix:mat4.create(),viewProjectionMatrix:mat4.create(),worldViewProjectionMatrix:mat4.create(),worldInverseMatrix:mat4.create(),billboardMatrix:mat4.create(),lightIntensity:1,ambientColor:vec4.create(),lightPosition:vec4.create(),lightPositionObject:vec4.create(),worldViewProjectionMatrixLocation:null,lightingEnabledLocation:null,lightIntensityLocation:null,ambientColorLocation:null,lightPositionLocation:null,
vertexPositionLocation:null,vertexTextureCoordinateLocation:null,vertexNormalLocation:null,time:0,previousTime:0,run:!0,worldMatrixStack:[],cameraPosition:vec3.create(),cameraRotationX:0,cameraRotationY:0,cameraDistance:0,cameraDistanceDelta:0,sunObject:null,sunTexture:null,sunFlareObject:null,sunFlareTexture:null,planetObject:null,moonObject:null,ringObject:null,venusTexture:null,earthTexture:null,earthCloudsTexture:null,marsTexture:null,jupiterTexture:null,saturnTexture:null,saturnRingTexture:null,
moonTexture:null,paused:!1,diffuseLevel:1,ambientLevel:.3};
function s2planets_main(a){s2planets_shared.gl=a;var b=initializeProgram(a,s2planets_vertexShader,s2planets_fragmentShader);b&&(a.useProgram(b),s2planets_shared.worldViewProjectionMatrixLocation=a.getUniformLocation(b,"u_worldViewProjection"),s2planets_shared.lightingEnabledLocation=a.getUniformLocation(b,"u_lightingEnabled"),s2planets_shared.lightIntensityLocation=a.getUniformLocation(b,"u_lightIntensity"),s2planets_shared.ambientColorLocation=a.getUniformLocation(b,"u_ambientColor"),s2planets_shared.lightPositionLocation=
a.getUniformLocation(b,"u_lightPosition"),s2planets_shared.vertexPositionLocation=a.getAttribLocation(b,"a_position"),s2planets_shared.vertexTextureCoordinateLocation=a.getAttribLocation(b,"a_textureCoordinate"),s2planets_shared.vertexNormalLocation=a.getAttribLocation(b,"a_normal"),a.enableVertexAttribArray(s2planets_shared.vertexPositionLocation),a.enableVertexAttribArray(s2planets_shared.vertexTextureCoordinateLocation),a.enableVertexAttribArray(s2planets_shared.vertexNormalLocation),mat4.perspective(s2planets_shared.projectionMatrix,
Math.PI/8,a.drawingBufferWidth/a.drawingBufferHeight,1,300),s2planets_initializeScene(a))}
function s2planets_initializeScene(a){s2planets_shared.cameraDistance=90;s2planets_shared.sunObject=twgl.primitives.createSphereBufferInfo(a,5,32,32);s2planets_shared.sunFlareObject=twgl.primitives.createPlaneBufferInfo(a,55,55);s2planets_shared.sunTexture=loadTexture(a,s2planets_shared,"2k_sun.jpg");s2planets_shared.sunFlareTexture=loadTexture(a,s2planets_shared,"lensflare.png");s2planets_shared.planetObject=twgl.primitives.createSphereBufferInfo(a,4,32,32);s2planets_shared.moonObject=twgl.primitives.createSphereBufferInfo(a,
.7,32,32);s2planets_shared.ringObject=twgl.primitives.createDiscBufferInfo(a,7,32);s2planets_shared.venusTexture=loadTexture(a,s2planets_shared,"2k_venus_surface.jpg");s2planets_shared.earthTexture=loadTexture(a,s2planets_shared,"2k_earth_daymap.jpg");s2planets_shared.earthCloudsTexture=loadTexture(a,s2planets_shared,"2k_earth_clouds.jpg");s2planets_shared.marsTexture=loadTexture(a,s2planets_shared,"2k_mars.jpg");s2planets_shared.jupiterTexture=loadTexture(a,s2planets_shared,"2k_jupiter.jpg");s2planets_shared.saturnTexture=
loadTexture(a,s2planets_shared,"th_saturn.png");s2planets_shared.saturnRingTexture=loadTexture(a,s2planets_shared,"JupiterNormalized2k.jpg");s2planets_shared.moonTexture=loadTexture(a,s2planets_shared,"2k_moon.jpg")}function s2planets_frameCallbackTextures(a){s2planets_frame(0,0);s2planets_shared.textureCount!=s2planets_shared.textureLoadedCount&&window.requestAnimationFrame(s2planets_frameCallbackTextures)}
function s2planets_frameCallback(a){var b=a-s2planets_shared.previousTime;s2planets_shared.paused||(s2planets_shared.time+=b);s2planets_shared.previousTime=a;s2planets_frame(.001*s2planets_shared.time,.001*b);1E4<s2planets_shared.time?(s2planets_frame(0,0),s2planets_shared.button.style.display="block"):s2planets_shared.run&&window.requestAnimationFrame(s2planets_frameCallback)}
function s2planets_setTransformationAndLighting(a,b){mat4.multiply(s2planets_shared.worldViewProjectionMatrix,s2planets_shared.viewProjectionMatrix,s2planets_shared.worldMatrix);a.uniformMatrix4fv(s2planets_shared.worldViewProjectionMatrixLocation,!1,s2planets_shared.worldViewProjectionMatrix);a.uniformMatrix4fv(s2planets_shared.worldMatrixLocation,!1,s2planets_shared.worldMatrix);a.uniform1i(s2planets_shared.lightingEnabledLocation,b);a.uniform1f(s2planets_shared.lightIntensityLocation,s2planets_shared.lightIntensity);
mat4.invert(s2planets_shared.worldInverseMatrix,s2planets_shared.worldMatrix);vec4.transformMat4(s2planets_shared.lightPositionObject,s2planets_shared.lightPosition,s2planets_shared.worldInverseMatrix);a.uniform4fv(s2planets_shared.lightPositionLocation,s2planets_shared.lightPositionObject);a.uniform4fv(s2planets_shared.ambientColorLocation,s2planets_shared.ambientColor)}function s2planets_pushWorldMatrix(){s2planets_shared.worldMatrixStack.push(mat4.clone(s2planets_shared.worldMatrix))}
function s2planets_popWorldMatrix(){0==s2planets_shared.worldMatrixStack.length&&console.log("worldMatrixStack: Can't pop matrix from empty stack");mat4.copy(s2planets_shared.worldMatrix,s2planets_shared.worldMatrixStack.pop())}
function s2planets_frame(a,b){var c=s2planets_shared.gl;c.clearColor(0,0,0,1);c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);c.enable(c.CULL_FACE);c.enable(c.DEPTH_TEST);s2planets_shared.cameraDistance+=s2planets_shared.cameraDistanceDelta*b;vec3.set(s2planets_shared.cameraPosition,0,0,-s2planets_shared.cameraDistance);vec3.rotateX(s2planets_shared.cameraPosition,s2planets_shared.cameraPosition,vec3.fromValues(0,0,0),s2planets_shared.cameraRotationX);vec3.rotateY(s2planets_shared.cameraPosition,s2planets_shared.cameraPosition,
vec3.fromValues(0,0,0),s2planets_shared.cameraRotationY);mat4.lookAt(s2planets_shared.viewMatrix,s2planets_shared.cameraPosition,vec3.fromValues(0,0,0),vec3.fromValues(0,1,0));mat4.multiply(s2planets_shared.viewProjectionMatrix,s2planets_shared.projectionMatrix,s2planets_shared.viewMatrix);s2planets_drawScene(c,a);0<s2planets_shared.worldMatrixStack.length&&(console.log("worldMatrixStack: Push and pop misalignment"),s2planets_shared.run=!1)}
function s2planets_drawScene(a,b){s2planets_shared.ambientColor=vec4.fromValues(s2planets_shared.ambientLevel,s2planets_shared.ambientLevel,s2planets_shared.ambientLevel,1);s2planets_shared.lightIntensity=s2planets_shared.diffuseLevel;s2planets_shared.lightPosition=vec4.fromValues(0,0,-10,1);var c=s2planets_shared.worldMatrix;mat4.identity(c);s2planets_pushWorldMatrix();mat4.translate(c,c,vec3.fromValues(43,0,0));mat4.rotateY(c,c,b);s2planets_setTransformationAndLighting(a,!0);a.bindTexture(a.TEXTURE_2D,
s2planets_shared.venusTexture);s2planets_drawObject(a,s2planets_shared.planetObject);s2planets_popWorldMatrix();s2planets_pushWorldMatrix();mat4.translate(c,c,vec3.fromValues(25,0,0));s2planets_pushWorldMatrix();mat4.rotateX(c,c,b);mat4.rotateZ(c,c,.7*b);mat4.translate(c,c,vec3.fromValues(5.5,0,0));s2planets_setTransformationAndLighting(a,!0);a.bindTexture(a.TEXTURE_2D,s2planets_shared.moonTexture);s2planets_drawObject(a,s2planets_shared.moonObject);s2planets_popWorldMatrix();s2planets_pushWorldMatrix();
mat4.rotateY(c,c,b);s2planets_setTransformationAndLighting(a,!0);a.bindTexture(a.TEXTURE_2D,s2planets_shared.earthTexture);s2planets_drawObject(a,s2planets_shared.planetObject);s2planets_popWorldMatrix();s2planets_pushWorldMatrix();mat4.rotateY(c,c,.3*-b);mat4.scale(c,c,vec3.fromValues(1.03,1.03,1.03));s2planets_setTransformationAndLighting(a,!0);a.bindTexture(a.TEXTURE_2D,s2planets_shared.earthCloudsTexture);a.enable(a.BLEND);a.blendFunc(a.SRC_ALPHA,a.ONE);s2planets_drawObject(a,s2planets_shared.planetObject);
a.disable(a.BLEND);s2planets_popWorldMatrix();s2planets_popWorldMatrix();s2planets_pushWorldMatrix();mat4.translate(c,c,vec3.fromValues(8,0,0));mat4.scale(c,c,vec3.fromValues(.7,.7,.7));s2planets_pushWorldMatrix();mat4.rotateY(c,c,1.1*b);mat4.translate(c,c,vec3.fromValues(5.5,0,0));s2planets_setTransformationAndLighting(a,!0);a.bindTexture(a.TEXTURE_2D,s2planets_shared.moonTexture);s2planets_drawObject(a,s2planets_shared.moonObject);s2planets_popWorldMatrix();s2planets_pushWorldMatrix();mat4.rotateY(c,
c,.7*-b);mat4.translate(c,c,vec3.fromValues(7.5,0,0));s2planets_setTransformationAndLighting(a,!0);a.bindTexture(a.TEXTURE_2D,s2planets_shared.moonTexture);s2planets_drawObject(a,s2planets_shared.moonObject);s2planets_popWorldMatrix();mat4.rotateY(c,c,b);s2planets_setTransformationAndLighting(a,!0);a.bindTexture(a.TEXTURE_2D,s2planets_shared.marsTexture);s2planets_drawObject(a,s2planets_shared.planetObject);s2planets_popWorldMatrix();s2planets_pushWorldMatrix();mat4.translate(c,c,vec3.fromValues(-13,
0,0));mat4.scale(c,c,vec3.fromValues(1.6,1.6,1.6));s2planets_pushWorldMatrix();mat4.rotateX(c,c,.8*b);mat4.translate(c,c,vec3.fromValues(0,0,5));mat4.scale(c,c,vec3.fromValues(.6,.6,.6));s2planets_setTransformationAndLighting(a,!0);a.bindTexture(a.TEXTURE_2D,s2planets_shared.moonTexture);s2planets_drawObject(a,s2planets_shared.moonObject);s2planets_popWorldMatrix();s2planets_pushWorldMatrix();mat4.rotateY(c,c,.8*b);mat4.translate(c,c,vec3.fromValues(0,0,5));mat4.scale(c,c,vec3.fromValues(.6,.6,.6));
s2planets_setTransformationAndLighting(a,!0);a.bindTexture(a.TEXTURE_2D,s2planets_shared.moonTexture);s2planets_drawObject(a,s2planets_shared.moonObject);s2planets_popWorldMatrix();s2planets_pushWorldMatrix();mat4.rotateZ(c,c,.8*b);mat4.translate(c,c,vec3.fromValues(5,0,0));mat4.scale(c,c,vec3.fromValues(.6,.6,.6));s2planets_setTransformationAndLighting(a,!0);a.bindTexture(a.TEXTURE_2D,s2planets_shared.moonTexture);s2planets_drawObject(a,s2planets_shared.moonObject);s2planets_popWorldMatrix();mat4.rotateY(c,
c,b);s2planets_setTransformationAndLighting(a,!0);a.bindTexture(a.TEXTURE_2D,s2planets_shared.jupiterTexture);s2planets_drawObject(a,s2planets_shared.planetObject);s2planets_popWorldMatrix();s2planets_pushWorldMatrix();mat4.translate(c,c,vec3.fromValues(-37,0,0));mat4.scale(c,c,vec3.fromValues(1.4,1.4,1.4));mat4.rotateZ(c,c,-Math.PI/10);mat4.rotateX(c,c,-Math.PI/22);s2planets_pushWorldMatrix();s2planets_setTransformationAndLighting(a,!0);a.bindTexture(a.TEXTURE_2D,s2planets_shared.saturnRingTexture);
a.disable(a.CULL_FACE);s2planets_drawObject(a,s2planets_shared.ringObject);a.enable(a.CULL_FACE);s2planets_popWorldMatrix();mat4.rotateY(c,c,b);mat4.scale(c,c,vec3.fromValues(1,1.15,1));s2planets_setTransformationAndLighting(a,!0);a.bindTexture(a.TEXTURE_2D,s2planets_shared.saturnTexture);s2planets_drawObject(a,s2planets_shared.planetObject);s2planets_popWorldMatrix()}
function s2planets_drawObject(a,b){a.bindBuffer(a.ARRAY_BUFFER,b.attribs.position.buffer);a.vertexAttribPointer(s2planets_shared.vertexPositionLocation,b.attribs.position.numComponents,b.attribs.position.type,a.FALSE,0,0);a.bindBuffer(a.ARRAY_BUFFER,b.attribs.texcoord.buffer);a.vertexAttribPointer(s2planets_shared.vertexTextureCoordinateLocation,b.attribs.texcoord.numComponents,b.attribs.texcoord.type,a.FALSE,0,0);a.bindBuffer(a.ARRAY_BUFFER,b.attribs.normal.buffer);a.vertexAttribPointer(s2planets_shared.vertexNormalLocation,
b.attribs.normal.numComponents,b.attribs.normal.type,a.FALSE,0,0);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,b.indices);a.drawElements(a.TRIANGLES,b.numElements,b.elementType,0)}
var s2planets_vertexShader="\n\tuniform mat4 u_worldViewProjection;\n\tuniform bool u_lightingEnabled;\n\tuniform float u_lightIntensity;\n\tuniform vec4 u_lightPosition;\n\tattribute vec4 a_position;\n\tattribute vec2 a_textureCoordinate;\n\tattribute vec3 a_normal;\n\tvarying vec2 v_textureCoordinate;\n\tvarying float v_diffuse;\n\n\tvoid main(void)\n\t{\n\t\tv_diffuse = 0.0;\n\t\tif (u_lightingEnabled)\n\t\t{\n\t\t\tvec3 lightDirection = normalize(u_lightPosition.xyz - a_position.xyz); \n\t\t\tv_diffuse = max(dot(a_normal, lightDirection), 0.0) * u_lightIntensity;\n\t\t}\n\t\tv_textureCoordinate = a_textureCoordinate;\n\t\tgl_Position = u_worldViewProjection * a_position;\n\t}\n",s2planets_fragmentShader=
"\n\tuniform sampler2D texture;\n\tuniform bool u_lightingEnabled;\n\tuniform highp vec4 u_ambientColor;\n\tvarying highp vec2 v_textureCoordinate;\n\tvarying highp float v_diffuse;\n\tprecision highp float;\n\n\tvoid main(void)\n\t{\n\t\tvec4 lighting = vec4(1);\n\t\tif (u_lightingEnabled)\n\t\t{\n\t\t\tlighting = vec4(v_diffuse, v_diffuse, v_diffuse, 1) + u_ambientColor;\n\t\t}\n\t\tgl_FragColor = texture2D(texture, v_textureCoordinate) * lighting;\n\t}\n";var s3views_shared={gl:null,button:null,worldMatrix:mat4.create(),viewMatrix:mat4.create(),projectionMatrix:mat4.create(),viewProjectionMatrix:mat4.create(),worldViewProjectionMatrix:mat4.create(),worldInverseMatrix:mat4.create(),billboardMatrix:mat4.create(),lightIntensity:1,ambientColor:vec4.create(),lightPosition:vec4.create(),lightPositionObject:vec4.create(),worldViewProjectionMatrixLocation:null,lightingEnabledLocation:null,lightIntensityLocation:null,ambientColorLocation:null,lightPositionLocation:null,
vertexPositionLocation:null,vertexTextureCoordinateLocation:null,vertexNormalLocation:null,time:0,previousTime:0,run:!0,worldMatrixStack:[],camera:null,planeObject:null,coneObject:null,sphereObject:null,fObject:null,chessboardTexture:null,whiteTexture:null,paused:!1,viewports:!0,light:!1,cameraRotationDeltaX:0,cameraRotationDeltaY:0,cameraRotationDeltaZ:0,cameraTranslationDeltaX:0,cameraTranslationDeltaZ:0,cameraTranslationViewRelative:!0};
function s3views_main(a){s3views_shared.gl=a;var b=initializeProgram(a,s3views_vertexShader,s3views_fragmentShader);b&&(a.useProgram(b),s3views_shared.worldViewProjectionMatrixLocation=a.getUniformLocation(b,"u_worldViewProjection"),s3views_shared.lightingEnabledLocation=a.getUniformLocation(b,"u_lightingEnabled"),s3views_shared.lightIntensityLocation=a.getUniformLocation(b,"u_lightIntensity"),s3views_shared.ambientColorLocation=a.getUniformLocation(b,"u_ambientColor"),s3views_shared.lightPositionLocation=
a.getUniformLocation(b,"u_lightPosition"),s3views_shared.vertexPositionLocation=a.getAttribLocation(b,"a_position"),s3views_shared.vertexTextureCoordinateLocation=a.getAttribLocation(b,"a_textureCoordinate"),s3views_shared.vertexNormalLocation=a.getAttribLocation(b,"a_normal"),a.enableVertexAttribArray(s3views_shared.vertexPositionLocation),a.enableVertexAttribArray(s3views_shared.vertexTextureCoordinateLocation),a.enableVertexAttribArray(s3views_shared.vertexNormalLocation),mat4.perspective(s3views_shared.projectionMatrix,
Math.PI/4,a.drawingBufferWidth/a.drawingBufferHeight,1,200),s3views_initializeScene(a))}
function s3views_initializeScene(a){s3views_shared.camera=createCamera(0,0,0);s3views_resetCamera();s3views_shared.planeObject=twgl.primitives.createPlaneBufferInfo(a,90,90,16,16);s3views_shared.coneObject=twgl.primitives.createTruncatedConeBufferInfo(a,8,2,40,32,32);s3views_shared.sphereObject=twgl.primitives.createSphereBufferInfo(a,1.5,32,32);s3views_shared.fObject=twgl.primitives.create3DFBufferInfo(a);s3views_shared.chessboardTexture=loadTexture(a,s3views_shared,"chessboard.png");s3views_shared.whiteTexture=
loadTexture(a,s3views_shared,"white.png")}function s3views_resetCamera(){vec3.set(s3views_shared.camera.position,-85,0,-45);vec3.set(s3views_shared.camera.forward,0,0,1);rotateCameraY(s3views_shared.camera,-Math.PI/3)}function s3views_frameCallbackTextures(a){s3views_frame(0,0);s3views_shared.textureCount!=s3views_shared.textureLoadedCount&&window.requestAnimationFrame(s3views_frameCallbackTextures)}
function s3views_frameCallback(a){var b=a-s3views_shared.previousTime;s3views_shared.paused||(s3views_shared.time+=b);s3views_shared.previousTime=a;s3views_frame(.001*s3views_shared.time,.001*b);1E4<s3views_shared.time?(s3views_resetCamera(),s3views_frame(0,0),s3views_shared.button.style.display="block"):s3views_shared.run&&window.requestAnimationFrame(s3views_frameCallback)}
function s3views_setTransformationAndLighting(a,b){mat4.multiply(s3views_shared.worldViewProjectionMatrix,s3views_shared.viewProjectionMatrix,s3views_shared.worldMatrix);a.uniformMatrix4fv(s3views_shared.worldViewProjectionMatrixLocation,!1,s3views_shared.worldViewProjectionMatrix);a.uniformMatrix4fv(s3views_shared.worldMatrixLocation,!1,s3views_shared.worldMatrix);a.uniform1i(s3views_shared.lightingEnabledLocation,b);a.uniform1f(s3views_shared.lightIntensityLocation,s3views_shared.lightIntensity);
mat4.invert(s3views_shared.worldInverseMatrix,s3views_shared.worldMatrix);vec4.transformMat4(s3views_shared.lightPositionObject,s3views_shared.lightPosition,s3views_shared.worldInverseMatrix);a.uniform4fv(s3views_shared.lightPositionLocation,s3views_shared.lightPositionObject);a.uniform4fv(s3views_shared.ambientColorLocation,s3views_shared.ambientColor)}function s3views_pushWorldMatrix(){s3views_shared.worldMatrixStack.push(mat4.clone(s3views_shared.worldMatrix))}
function s3views_popWorldMatrix(){0==s3views_shared.worldMatrixStack.length&&console.log("worldMatrixStack: Can't pop matrix from empty stack");mat4.copy(s3views_shared.worldMatrix,s3views_shared.worldMatrixStack.pop())}
function s3views_drawObject(a,b){a.bindBuffer(a.ARRAY_BUFFER,b.attribs.position.buffer);a.vertexAttribPointer(s3views_shared.vertexPositionLocation,b.attribs.position.numComponents,b.attribs.position.type,a.FALSE,0,0);a.bindBuffer(a.ARRAY_BUFFER,b.attribs.texcoord.buffer);a.vertexAttribPointer(s3views_shared.vertexTextureCoordinateLocation,b.attribs.texcoord.numComponents,b.attribs.texcoord.type,a.FALSE,0,0);a.bindBuffer(a.ARRAY_BUFFER,b.attribs.normal.buffer);a.vertexAttribPointer(s3views_shared.vertexNormalLocation,
b.attribs.normal.numComponents,b.attribs.normal.type,a.FALSE,0,0);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,b.indices);a.drawElements(a.TRIANGLES,b.numElements,b.elementType,0)}
function s3views_frame(a,b){var c=s3views_shared.gl;c.clearColor(0,0,0,1);c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);c.enable(c.CULL_FACE);c.enable(c.DEPTH_TEST);rotateCameraX(s3views_shared.camera,s3views_shared.cameraRotationDeltaY);rotateCameraY(s3views_shared.camera,s3views_shared.cameraRotationDeltaX);rotateCameraZ(s3views_shared.camera,s3views_shared.cameraRotationDeltaZ);s3views_shared.cameraRotationDeltaX=0;s3views_shared.cameraRotationDeltaY=0;s3views_shared.cameraRotationDeltaZ=0;translateCameraX(s3views_shared.camera,
s3views_shared.cameraTranslationDeltaX,s3views_shared.cameraTranslationViewRelative);translateCameraZ(s3views_shared.camera,s3views_shared.cameraTranslationDeltaZ,s3views_shared.cameraTranslationViewRelative);translateCameraX(s3views_shared.camera,4*-b,!0);translateCameraZ(s3views_shared.camera,11*b,!0);updateCamera(s3views_shared.camera);mat4.copy(s3views_shared.viewMatrix,s3views_shared.camera.matrix);mat4.multiply(s3views_shared.viewProjectionMatrix,s3views_shared.projectionMatrix,s3views_shared.viewMatrix);
s3views_shared.viewports?(c.viewport(0,0,c.drawingBufferWidth/2,c.drawingBufferHeight/2),s3views_drawScene(c,a),c.viewport(0,c.drawingBufferHeight/2,c.drawingBufferWidth/2,c.drawingBufferHeight/2),mat4.lookAt(s3views_shared.viewMatrix,vec3.fromValues(-100,0,0),vec3.fromValues(0,0,0),vec3.fromValues(0,1,0)),mat4.multiply(s3views_shared.viewProjectionMatrix,s3views_shared.projectionMatrix,s3views_shared.viewMatrix),s3views_drawScene(c,a),c.viewport(c.drawingBufferWidth/2,c.drawingBufferHeight/2,c.drawingBufferWidth/
2,c.drawingBufferHeight/2),mat4.lookAt(s3views_shared.viewMatrix,vec3.fromValues(0,100,0),vec3.fromValues(0,0,0),vec3.fromValues(0,0,1)),mat4.multiply(s3views_shared.viewProjectionMatrix,s3views_shared.projectionMatrix,s3views_shared.viewMatrix),s3views_drawScene(c,a),c.viewport(c.drawingBufferWidth/2,0,c.drawingBufferWidth/2,c.drawingBufferHeight/2),mat4.lookAt(s3views_shared.viewMatrix,vec3.fromValues(0,0,-100),vec3.fromValues(0,0,0),vec3.fromValues(0,1,0)),mat4.multiply(s3views_shared.viewProjectionMatrix,
s3views_shared.projectionMatrix,s3views_shared.viewMatrix)):c.viewport(0,0,c.drawingBufferWidth,c.drawingBufferHeight);s3views_drawScene(c,a);0<s3views_shared.worldMatrixStack.length&&(console.log("worldMatrixStack: Push and pop misalignment"),s3views_shared.run=!1)}
function s3views_drawScene(a,b){s3views_shared.ambientColor=vec4.fromValues(.5,.5,.5,1);s3views_shared.lightIntensity=.9;s3views_shared.lightPosition=vec4.fromValues(0,5,0,1);s3views_shared.light&&vec3.set(s3views_shared.lightPosition,s3views_shared.camera.position[0],s3views_shared.camera.position[1],s3views_shared.camera.position[2]);var c=s3views_shared.worldMatrix;mat4.identity(c);s3views_pushWorldMatrix();mat4.translate(c,c,vec3.fromValues(0,-20,0));s3views_setTransformationAndLighting(a,!0);
a.bindTexture(a.TEXTURE_2D,s3views_shared.chessboardTexture);s3views_drawObject(a,s3views_shared.planeObject);s3views_popWorldMatrix();s3views_drawCones(a,35);s3views_pushWorldMatrix();mat4.translate(c,c,vec3.fromValues(0,5,0));s3views_setTransformationAndLighting(a,!1);a.bindTexture(a.TEXTURE_2D,s3views_shared.whiteTexture);s3views_shared.light||s3views_drawObject(a,s3views_shared.sphereObject);s3views_popWorldMatrix();s3views_pushWorldMatrix();mat4.translate(c,c,vec3.fromValues(-20,0,0));mat4.scale(c,
c,vec3.fromValues(4,4,4));mat4.rotateZ(c,c,b);mat4.rotateX(c,c,.6*b);s3views_setTransformationAndLighting(a,!0);a.bindTexture(a.TEXTURE_2D,s3views_shared.chessboardTexture);s3views_drawObject(a,s3views_shared.sphereObject);s3views_popWorldMatrix();s3views_pushWorldMatrix();mat4.translate(c,c,vec3.fromValues(15,20,20));mat4.scale(c,c,vec3.fromValues(.15,.15,.15));mat4.rotateX(c,c,Math.PI);mat4.rotateY(c,c,Math.PI);s3views_setTransformationAndLighting(a,!0);a.bindTexture(a.TEXTURE_2D,s3views_shared.chessboardTexture);
s3views_drawObject(a,s3views_shared.fObject);s3views_popWorldMatrix()}function s3views_drawCamera(a){var b=s3views_shared.worldMatrix;s3views_pushWorldMatrix();mat4.translate(b,b,s3views_shared.camera.position);mat4.scale(b,b,vec3.fromValues(2.1,2.1,2.1));s3views_setTransformationAndLighting(a,!1);a.bindTexture(a.TEXTURE_2D,s3views_shared.chessboardTexture);s3views_drawObject(a,s3views_shared.sphereObject);s3views_popWorldMatrix()}
function s3views_drawCones(a,b){var c=s3views_shared.worldMatrix;a.bindTexture(a.TEXTURE_2D,s3views_shared.chessboardTexture);s3views_pushWorldMatrix();mat4.translate(c,c,vec3.fromValues(-b,0,-b));s3views_setTransformationAndLighting(a,!0);s3views_drawObject(a,s3views_shared.coneObject);s3views_popWorldMatrix();s3views_pushWorldMatrix();mat4.translate(c,c,vec3.fromValues(-b,0,b));s3views_setTransformationAndLighting(a,!0);s3views_drawObject(a,s3views_shared.coneObject);s3views_popWorldMatrix();s3views_pushWorldMatrix();
mat4.translate(c,c,vec3.fromValues(b,0,-b));s3views_setTransformationAndLighting(a,!0);s3views_drawObject(a,s3views_shared.coneObject);s3views_popWorldMatrix();s3views_pushWorldMatrix();mat4.translate(c,c,vec3.fromValues(b,0,b));s3views_setTransformationAndLighting(a,!0);s3views_drawObject(a,s3views_shared.coneObject);s3views_popWorldMatrix()}
var s3views_vertexShader="\n\tuniform mat4 u_worldViewProjection;\n\tuniform bool u_lightingEnabled;\n\tuniform float u_lightIntensity;\n\tuniform vec4 u_lightPosition;\n\tattribute vec4 a_position;\n\tattribute vec2 a_textureCoordinate;\n\tattribute vec3 a_normal;\n\tvarying vec2 v_textureCoordinate;\n\tvarying float v_diffuse;\n\n\tvoid main(void)\n\t{\n\t\tv_diffuse = 0.0;\n\t\tif (u_lightingEnabled)\n\t\t{\n\t\t\tvec3 lightDirection = normalize(u_lightPosition.xyz - a_position.xyz); \n\t\t\tv_diffuse = max(dot(a_normal, lightDirection), 0.0) * u_lightIntensity;\n\t\t}\n\t\tv_textureCoordinate = a_textureCoordinate;\n\t\tgl_Position = u_worldViewProjection * a_position;\n\t}\n",s3views_fragmentShader=
"\n\tuniform sampler2D texture;\n\tuniform bool u_lightingEnabled;\n\tuniform highp vec4 u_ambientColor;\n\tvarying highp vec2 v_textureCoordinate;\n\tvarying highp float v_diffuse;\n\tprecision highp float;\n\n\tvoid main(void)\n\t{\n\t\tvec4 lighting = vec4(1);\n\t\tif (u_lightingEnabled)\n\t\t{\n\t\t\tlighting = vec4(v_diffuse, v_diffuse, v_diffuse, 1) + u_ambientColor;\n\t\t}\n\t\tgl_FragColor = texture2D(texture, v_textureCoordinate) * lighting;\n\t}\n";
